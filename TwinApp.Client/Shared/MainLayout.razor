@inherits LayoutComponentBase
@inject TwinApp.Client.Shared.IGraphicService Graphics

<div class="twinapp-container">
    <!-- Background Babylon canvas -->
    <canvas id="renderCanvas"></canvas>

    <!-- Overlay panels -->
    <OverlayHost />
</div>

@code {
    private bool _initialized;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender && !_initialized)
        {
            _initialized = true;
            await Graphics.InitializeAsync();
        }
    }
}